<?if(!defined("B_PROLOG_INCLUDED") || B_PROLOG_INCLUDED!==true) die();

IncludeTemplateLangFile(__FILE__);

$themeOptions = array(
	"COLOR_THEME" => array(
		"LIST" => array(
			"color1" => array(
				"BG" => "#fd9b28;"
			),
			"color2" => array(
				"BG" => "#008fc3;"
			),
			"color3" => array(
				"BG" => "#17677C;"
			),
			"color4" => array(
				"BG" => "#1695a3"
			),
			"color5" => array(
				"BG" => "#4a6491;"
			),
			"color6" => array(
				"BG" => "#444DA0;"
			),
			"color7" => array(
				"BG" => "#7e8aa2;"
			),
			"color8" => array(
				"BG" => "#47953f;"
			),
			"color9" => array(
				"BG" => "#7d8a2e;"
			),
			"color10" => array(
				"BG" => "#1d9d84;"
			),
			"color11" => array(
				"BG" => "#64895D;"
			),
			"color12" => array(
				"BG" => "#a7a37e;"
			),
			"color13" => array(
				"BG" => "#91aa9d;"
			),
			"color14" => array(
				"BG" => "#5b7876;"
			),
			"color15" => array(
				"BG" => "#ea8443;"
			),
			"color16" => array(
				"BG" => "#f05d2b;"
			),
			"color17" => array(
				"BG" => "#cc3333;"
			),
			"color18" => array(
				"BG" => "#af1a4d;"
			)
		)
	),
	"MENU_TYPE" => array(
		"LIST" => array(
			"v1" => array(
				"NAME" => "1"
			),
			"v2" => array(
				"NAME" => "2"
			),
			"v3" => array(
				"NAME" => "3"
			),
			"v4" => array(
				"NAME" => "4"
			),
			"v5" => array(
				"NAME" => "5"
			)
		)
	),
	"HEADER_TYPE" => array(
		"LIST" => array(
			"v1" => array(
				"NAME" => "1"
			),
			"v2" => array(
				"NAME" => "2"
			)
		)
	),
	"BOXED_TYPE" => array(
		"LIST" => array(
			"no" => array(
				"NAME" => GetMessage("BOXED_NO")
			),
			"image" => array(
				"NAME" => GetMessage("BOXED_IMAGE")
			),
			"texture" => array(
				"NAME" => GetMessage("BOXED_TEXTURE")
			),
			"color" => array(
				"NAME" => GetMessage("BOXED_COLOR")
			)
		)
	),
	"BOXED_TEXTURE" => array(
		"LIST" => array(
			"shattered.png" => array(
				"NAME" => "shattered.png"
			),
			"retina_wood.png" => array(
				"NAME" => "retina_wood.png"
			),
			"stardust.png" => array(
				"NAME" => "stardust.png"
			),
			"45degreee_fabric.png" => array(
				"NAME" => "45degreee_fabric.png"
			),
			"asfalt.png" => array(
				"NAME" => "asfalt.png"
			),
			"bedge_grunge.png" => array(
				"NAME" => "bedge_grunge.png"
			),
			"billie_holiday.png" => array(
				"NAME" => "billie_holiday.png"
			),
			"binding_dark.png" => array(
				"NAME" => "binding_dark.png"
			),
			"binding_light.png" => array(
				"NAME" => "binding_light.png"
			),
			"black_linen_v2.png" => array(
				"NAME" => "black_linen_v2.png"
			),
			"black_lozenge.png" => array(
				"NAME" => "black_lozenge.png"
			),
			"black-Linen.png" => array(
				"NAME" => "black-Linen.png"
			),
			"blackorchid.png" => array(
				"NAME" => "blackorchid.png"
			),
			"brickwall.png" => array(
				"NAME" => "brickwall.png"
			),
			"bright_squares.png" => array(
				"NAME" => "bright_squares.png"
			),
			"brushed_alu.png" => array(
				"NAME" => "brushed_alu.png"
			),
			"brushed_alu_dark.png" => array(
				"NAME" => "brushed_alu_dark.png"
			),
			"congruent_outline.png" => array(
				"NAME" => "congruent_outline.png"
			),
			"congruent_pentagon.png" => array(
				"NAME" => "congruent_pentagon.png"
			),
			"debut_dark.png" => array(
				"NAME" => "debut_dark.png"
			),
			"diagmonds.png" => array(
				"NAME" => "diagmonds.png"
			),
			"diagonal_waves.png" => array(
				"NAME" => "diagonal_waves.png"
			),
			"diamond_upholstery.png" => array(
				"NAME" => "diamond_upholstery.png"
			),
			"egg_shell.png" => array(
				"NAME" => "egg_shell.png"
			),
			"fabric_plaid.png" => array(
				"NAME" => "fabric_plaid.png"
			),
			"food.png" => array(
				"NAME" => "food.png"
			),
			"footer_lodyas.png" => array(
				"NAME" => "footer_lodyas.png"
			),
			"geometry.png" => array(
				"NAME" => "geometry.png"
			),
			"geometry2.png" => array(
				"NAME" => "geometry2.png"
			),
			"giftly.png" => array(
				"NAME" => "giftly.png"
			),
			"gradient_squares.png" => array(
				"NAME" => "gradient_squares.png"
			),
			"gray_sand.png" => array(
				"NAME" => "gray_sand.png"
			),
			"green_cup.png" => array(
				"NAME" => "green_cup.png"
			),
			"grey_wash_wall.png" => array(
				"NAME" => "grey_wash_wall.png"
			),
			"grid.png" => array(
				"NAME" => "grid.png"
			),
			"honey_im_subtle.png" => array(
				"NAME" => "honey_im_subtle.png"
			),
			"irongrip.png" => array(
				"NAME" => "irongrip.png"
			),
			"kindajean.png" => array(
				"NAME" => "kindajean.png"
			),
			"light_alu.png" => array(
				"NAME" => "light_alu.png"
			),
			"mochaGrunge.png" => array(
				"NAME" => "mochaGrunge.png"
			),
			"mooning.png" => array(
				"NAME" => "mooning.png"
			),
			"nasty_fabric.png" => array(
				"NAME" => "nasty_fabric.png"
			),
			"navy_blue.png" => array(
				"NAME" => "navy_blue.png"
			),
			"otis_redding.png" => array(
				"NAME" => "otis_redding.png"
			),
			"purty_wood.png" => array(
				"NAME" => "purty_wood.png"
			),
			"pw_maze_white.png" => array(
				"NAME" => "pw_maze_white.png"
			),
			"random_grey_variations.png" => array(
				"NAME" => "random_grey_variations.png"
			),
			"restaurant.png" => array(
				"NAME" => "restaurant.png"
			),
			"restaurant_icons.png" => array(
				"NAME" => "restaurant_icons.png"
			),
			"sandpaper.png" => array(
				"NAME" => "sandpaper.png"
			),
			"sativa.png" => array(
				"NAME" => "sativa.png"
			),
			"school.png" => array(
				"NAME" => "school.png"
			),
			"seamless_paper_texture.png" => array(
				"NAME" => "seamless_paper_texture.png"
			),
			"skulls.png" => array(
				"NAME" => "skulls.png"
			),
			"sprinkles.png" => array(
				"NAME" => "sprinkles.png"
			),
			"squairy_light.png" => array(
				"NAME" => "squairy_light.png"
			),
			"subtle_white_mini_waves.png" => array(
				"NAME" => "subtle_white_mini_waves.png"
			),
			"ticks.png" => array(
				"NAME" => "ticks.png"
			),
			"triangular.png" => array(
				"NAME" => "triangular.png"
			),
			"tweed.png" => array(
				"NAME" => "tweed.png"
			),
			"wood_pattern.png" => array(
				"NAME" => "wood_pattern.png"
			)
		)
	),
	"BOXED_IMAGE" => array(
		"LIST" => array(
			"1.jpg" => array(
				"NAME" => "1.jpg"
			),
			"2.jpg" => array(
				"NAME" => "2.jpg"
			),
			"3.jpg" => array(
				"NAME" => "3.jpg"
			),
			"4.jpg" => array(
				"NAME" => "4.jpg"
			),
			"5.jpg" => array(
				"NAME" => "5.jpg"
			),
			"6.jpg" => array(
				"NAME" => "6.jpg"
			),
			"7.jpg" => array(
				"NAME" => "7.jpg"
			),
			"8.jpg" => array(
				"NAME" => "8.jpg"
			),
			"9.jpg" => array(
				"NAME" => "9.jpg"
			),
			"10.jpg" => array(
				"NAME" => "10.jpg"
			),
			"11.jpg" => array(
				"NAME" => "11.jpg"
			)
		)
	),
	"BOXED_COLOR" => array(
		"LIST" => array(
			"color" => array(
				"NAME" => "color"
			)
		)
	),
	"PAGE_HEADING_TYPE" => array(
		"LIST" => array(
			"bg_no" => array(
				"NAME" => GetMessage("PAGE_HEADING_BG_NO")
			),
			"image" => array(
				"NAME" => GetMessage("PAGE_HEADING_IMAGE")
			),
			"texture" => array(
				"NAME" => GetMessage("PAGE_HEADING_TEXTURE")
			),
			"color" => array(
				"NAME" => GetMessage("PAGE_HEADING_COLOR")
			)
		)
	),
	"PAGE_HEADING_TEXT_COLOR" => array(
		"LIST" => array(
			"dark" => array(
				"NAME" => GetMessage("PAGE_HEADING_TEXT_COLOR_DARK")
			),
			"white" => array(
				"NAME" => GetMessage("PAGE_HEADING_TEXT_COLOR_WHITE")
			),
		)
	),
	"PAGE_HEADING_TEXTURE" => array(
		"LIST" => array(
			"shattered.png" => array(
				"NAME" => "shattered.png"
			),
			"retina_wood.png" => array(
				"NAME" => "retina_wood.png"
			),
			"stardust.png" => array(
				"NAME" => "stardust.png"
			),
			"45degreee_fabric.png" => array(
				"NAME" => "45degreee_fabric.png"
			),
			"asfalt.png" => array(
				"NAME" => "asfalt.png"
			),
			"bedge_grunge.png" => array(
				"NAME" => "bedge_grunge.png"
			),
			"billie_holiday.png" => array(
				"NAME" => "billie_holiday.png"
			),
			"binding_dark.png" => array(
				"NAME" => "binding_dark.png"
			),
			"binding_light.png" => array(
				"NAME" => "binding_light.png"
			),
			"black_linen_v2.png" => array(
				"NAME" => "black_linen_v2.png"
			),
			"black_lozenge.png" => array(
				"NAME" => "black_lozenge.png"
			),
			"black-Linen.png" => array(
				"NAME" => "black-Linen.png"
			),
			"blackorchid.png" => array(
				"NAME" => "blackorchid.png"
			),
			"brickwall.png" => array(
				"NAME" => "brickwall.png"
			),
			"bright_squares.png" => array(
				"NAME" => "bright_squares.png"
			),
			"brushed_alu.png" => array(
				"NAME" => "brushed_alu.png"
			),
			"brushed_alu_dark.png" => array(
				"NAME" => "brushed_alu_dark.png"
			),
			"congruent_outline.png" => array(
				"NAME" => "congruent_outline.png"
			),
			"congruent_pentagon.png" => array(
				"NAME" => "congruent_pentagon.png"
			),
			"debut_dark.png" => array(
				"NAME" => "debut_dark.png"
			),
			"diagmonds.png" => array(
				"NAME" => "diagmonds.png"
			),
			"diagonal_waves.png" => array(
				"NAME" => "diagonal_waves.png"
			),
			"diamond_upholstery.png" => array(
				"NAME" => "diamond_upholstery.png"
			),
			"egg_shell.png" => array(
				"NAME" => "egg_shell.png"
			),
			"fabric_plaid.png" => array(
				"NAME" => "fabric_plaid.png"
			),
			"food.png" => array(
				"NAME" => "food.png"
			),
			"footer_lodyas.png" => array(
				"NAME" => "footer_lodyas.png"
			),
			"geometry.png" => array(
				"NAME" => "geometry.png"
			),
			"geometry2.png" => array(
				"NAME" => "geometry2.png"
			),
			"giftly.png" => array(
				"NAME" => "giftly.png"
			),
			"gradient_squares.png" => array(
				"NAME" => "gradient_squares.png"
			),
			"gray_sand.png" => array(
				"NAME" => "gray_sand.png"
			),
			"green_cup.png" => array(
				"NAME" => "green_cup.png"
			),
			"grey_wash_wall.png" => array(
				"NAME" => "grey_wash_wall.png"
			),
			"grid.png" => array(
				"NAME" => "grid.png"
			),
			"honey_im_subtle.png" => array(
				"NAME" => "honey_im_subtle.png"
			),
			"irongrip.png" => array(
				"NAME" => "irongrip.png"
			),
			"kindajean.png" => array(
				"NAME" => "kindajean.png"
			),
			"light_alu.png" => array(
				"NAME" => "light_alu.png"
			),
			"mochaGrunge.png" => array(
				"NAME" => "mochaGrunge.png"
			),
			"mooning.png" => array(
				"NAME" => "mooning.png"
			),
			"nasty_fabric.png" => array(
				"NAME" => "nasty_fabric.png"
			),
			"navy_blue.png" => array(
				"NAME" => "navy_blue.png"
			),
			"otis_redding.png" => array(
				"NAME" => "otis_redding.png"
			),
			"purty_wood.png" => array(
				"NAME" => "purty_wood.png"
			),
			"pw_maze_white.png" => array(
				"NAME" => "pw_maze_white.png"
			),
			"random_grey_variations.png" => array(
				"NAME" => "random_grey_variations.png"
			),
			"restaurant.png" => array(
				"NAME" => "restaurant.png"
			),
			"restaurant_icons.png" => array(
				"NAME" => "restaurant_icons.png"
			),
			"sandpaper.png" => array(
				"NAME" => "sandpaper.png"
			),
			"sativa.png" => array(
				"NAME" => "sativa.png"
			),
			"school.png" => array(
				"NAME" => "school.png"
			),
			"seamless_paper_texture.png" => array(
				"NAME" => "seamless_paper_texture.png"
			),
			"skulls.png" => array(
				"NAME" => "skulls.png"
			),
			"sprinkles.png" => array(
				"NAME" => "sprinkles.png"
			),
			"squairy_light.png" => array(
				"NAME" => "squairy_light.png"
			),
			"subtle_white_mini_waves.png" => array(
				"NAME" => "subtle_white_mini_waves.png"
			),
			"ticks.png" => array(
				"NAME" => "ticks.png"
			),
			"triangular.png" => array(
				"NAME" => "triangular.png"
			),
			"tweed.png" => array(
				"NAME" => "tweed.png"
			),
			"wood_pattern.png" => array(
				"NAME" => "wood_pattern.png"
			)
		)
	),
	"PAGE_HEADING_IMAGE" => array(
		"LIST" => array(
			"1.jpg" => array(
				"NAME" => "1.jpg"
			),
			"2.jpg" => array(
				"NAME" => "2.jpg"
			),
			"3.jpg" => array(
				"NAME" => "3.jpg"
			),
			"4.jpg" => array(
				"NAME" => "4.jpg"
			),
			"5.jpg" => array(
				"NAME" => "5.jpg"
			),
			"6.jpg" => array(
				"NAME" => "6.jpg"
			),
			"7.jpg" => array(
				"NAME" => "7.jpg"
			),
			"8.jpg" => array(
				"NAME" => "8.jpg"
			),
			"9.jpg" => array(
				"NAME" => "9.jpg"
			),
			"10.jpg" => array(
				"NAME" => "10.jpg"
			),
			"11.jpg" => array(
				"NAME" => "11.jpg"
			)
		)
	),
	"FIXED" => array(
		"LIST" => array(
			"yes" => array(
				"NAME" => GetMessage("YES")
			),
			"no" => array(
				"NAME" => GetMessage("NO")
			)
		)
	),
	"HOME_SLIDER" => array(
		"LIST" => array(
			"yes" => array(
				"NAME" => GetMessage("YES")
			),
			"no" => array(
				"NAME" => GetMessage("NO")
			)
		)
	),
	"HOME_TEASERS" => array(
		"LIST" => array(
			"yes" => array(
				"NAME" => GetMessage("YES")
			),
			"no" => array(
				"NAME" => GetMessage("NO")
			)
		)
	),
	"HOME_FEATURES" => array(
		"LIST" => array(
			"yes" => array(
				"NAME" => GetMessage("YES")
			),
			"no" => array(
				"NAME" => GetMessage("NO")
			)
		)
	),
	"HOME_SERVICES_ICONS" => array(
		"LIST" => array(
			"yes" => array(
				"NAME" => GetMessage("YES")
			),
			"no" => array(
				"NAME" => GetMessage("NO")
			)
		)
	),
	"HOME_SERVICES" => array(
		"LIST" => array(
			"yes" => array(
				"NAME" => GetMessage("YES")
			),
			"no" => array(
				"NAME" => GetMessage("NO")
			)
		)
	),
	"HOME_MESSAGE_BLOCK" => array(
		"LIST" => array(
			"yes" => array(
				"NAME" => GetMessage("YES")
			),
			"no" => array(
				"NAME" => GetMessage("NO")
			)
		)
	),
	"HOME_PRODUCTS" => array(
		"LIST" => array(
			"yes" => array(
				"NAME" => GetMessage("YES")
			),
			"no" => array(
				"NAME" => GetMessage("NO")
			)
		)
	),
	"HOME_PROJECTS" => array(
		"LIST" => array(
			"yes" => array(
				"NAME" => GetMessage("YES")
			),
			"no" => array(
				"NAME" => GetMessage("NO")
			)
		)
	),
	"HOME_GALLERY" => array(
		"LIST" => array(
			"yes" => array(
				"NAME" => GetMessage("YES")
			),
			"no" => array(
				"NAME" => GetMessage("NO")
			)
		)
	),
	"HOME_PARTNERS" => array(
		"LIST" => array(
			"yes" => array(
				"NAME" => GetMessage("YES")
			),
			"no" => array(
				"NAME" => GetMessage("NO")
			)
		)
	),
	"HOME_ABOUT" => array(
		"LIST" => array(
			"yes" => array(
				"NAME" => GetMessage("YES")
			),
			"no" => array(
				"NAME" => GetMessage("NO")
			)
		)
	),
	"HOME_FACTS" => array(
		"LIST" => array(
			"yes" => array(
				"NAME" => GetMessage("YES")
			),
			"no" => array(
				"NAME" => GetMessage("NO")
			)
		)
	),
	"HOME_NEWS" => array(
		"LIST" => array(
			"yes" => array(
				"NAME" => GetMessage("YES")
			),
			"no" => array(
				"NAME" => GetMessage("NO")
			)
		)
	),
	"HOME_REVIEWS" => array(
		"LIST" => array(
			"yes" => array(
				"NAME" => GetMessage("YES")
			),
			"no" => array(
				"NAME" => GetMessage("NO")
			)
		)
	),
);

$active = COption::GetOptionString("ms.active", "theme_changer_".SITE_ID, "", SITE_ID);

$themeOptions["COLOR_THEME"]["CURRENT"] = COption::GetOptionString("ms.active", "color_theme_".SITE_ID, "", SITE_ID);
$themeOptions["USE_CUSTOM_COLOR"]["CURRENT"] = COption::GetOptionString("ms.active", "use_custom_color_".SITE_ID, "", SITE_ID);
$themeOptions["CUSTOM_COLOR"]["CURRENT"] = COption::GetOptionString("ms.active", "custom_color_".SITE_ID, "", SITE_ID);
$themeOptions["MENU_TYPE"]["CURRENT"] = COption::GetOptionString("ms.active", "menu_type_".SITE_ID, "", SITE_ID);
$themeOptions["HEADER_TYPE"]["CURRENT"] = COption::GetOptionString("ms.active", "header_type_".SITE_ID, "", SITE_ID);
$themeOptions["FIXED"]["CURRENT"] = COption::GetOptionString("ms.active", "fixed_".SITE_ID, "", SITE_ID);
$themeOptions["TOP_PANEL_TEXT_COLOR"]["CURRENT"] = COption::GetOptionString("ms.active", "top_panel_text_color_".SITE_ID, "", SITE_ID);
$themeOptions["TOP_PANEL_BG_COLOR"]["CURRENT"] = COption::GetOptionString("ms.active", "top_panel_bg_color_".SITE_ID, "", SITE_ID);
$themeOptions["HOME_ICONS_BLOCK_TEXT_COLOR"]["CURRENT"] = COption::GetOptionString("ms.active", "home_icons_block_text_color_".SITE_ID, "", SITE_ID);
$themeOptions["HOME_ICONS_BLOCK_BG_COLOR"]["CURRENT"] = COption::GetOptionString("ms.active", "home_icons_block_bg_color_".SITE_ID, "", SITE_ID);
$themeOptions["SLIDER_WIDTH"]["CURRENT"] = COption::GetOptionString("ms.active", "slider_width_".SITE_ID, "", SITE_ID);

$themeOptions["PAGE_HEADING_TYPE"]["CURRENT"] = COption::GetOptionString("ms.active", "page_heading_type_".SITE_ID, "", SITE_ID);
$themeOptions["PAGE_HEADING_TEXT_COLOR"]["CURRENT"] = COption::GetOptionString("ms.active", "page_heading_text_color_".SITE_ID, "", SITE_ID);
$themeOptions["PAGE_HEADING_TEXTURE"]["CURRENT"] = COption::GetOptionString("ms.active", "page_heading_texture_".SITE_ID, "", SITE_ID);
$themeOptions["PAGE_HEADING_IMAGE"]["CURRENT"] = COption::GetOptionString("ms.active", "page_heading_image_".SITE_ID, "", SITE_ID);
$themeOptions["PAGE_HEADING_COLOR"]["CURRENT"] = COption::GetOptionString("ms.active", "page_heading_color_".SITE_ID, "", SITE_ID);
$themeOptions["PAGE_HEADING_USE_FILE"]["CURRENT"] = COption::GetOptionString("ms.active", "page_heading_use_file_".SITE_ID, "", SITE_ID);
$themeOptions["PAGE_HEADING_FILE"]["CURRENT"] = COption::GetOptionString("ms.active", "page_heading_file_".SITE_ID, "", SITE_ID);

$themeOptions["BOXED_TYPE"]["CURRENT"] = COption::GetOptionString("ms.active", "boxed_type_".SITE_ID, "", SITE_ID);
$themeOptions["BOXED_TEXTURE"]["CURRENT"] = COption::GetOptionString("ms.active", "boxed_texture_".SITE_ID, "", SITE_ID);
$themeOptions["BOXED_IMAGE"]["CURRENT"] = COption::GetOptionString("ms.active", "boxed_image_".SITE_ID, "", SITE_ID);
$themeOptions["BOXED_COLOR"]["CURRENT"] = COption::GetOptionString("ms.active", "boxed_color_".SITE_ID, "", SITE_ID);
$themeOptions["BOXED_USE_FILE"]["CURRENT"] = COption::GetOptionString("ms.active", "boxed_use_file_".SITE_ID, "", SITE_ID);
$themeOptions["BOXED_FILE"]["CURRENT"] = COption::GetOptionString("ms.active", "boxed_file_".SITE_ID, "", SITE_ID);

$themeOptions["HOME_SLIDER"]["CURRENT"] = COption::GetOptionString("ms.active", "home_slider_".SITE_ID, "", SITE_ID);
$themeOptions["HOME_SLIDER_SORT"]["CURRENT"] = COption::GetOptionString("ms.active", "home_slider_sort_".SITE_ID, "", SITE_ID);
$themeOptions["HOME_TEASERS"]["CURRENT"] = COption::GetOptionString("ms.active", "home_teasers_".SITE_ID, "", SITE_ID);
$themeOptions["HOME_TEASERS_SORT"]["CURRENT"] = COption::GetOptionString("ms.active", "home_teasers_sort_".SITE_ID, "", SITE_ID);
$themeOptions["HOME_FEATURES"]["CURRENT"] = COption::GetOptionString("ms.active", "home_features_".SITE_ID, "", SITE_ID);
$themeOptions["HOME_FEATURES_SORT"]["CURRENT"] = COption::GetOptionString("ms.active", "home_features_sort_".SITE_ID, "", SITE_ID);
$themeOptions["HOME_SERVICES_ICONS"]["CURRENT"] = COption::GetOptionString("ms.active", "home_services_icons_".SITE_ID, "", SITE_ID);
$themeOptions["HOME_SERVICES_ICONS_SORT"]["CURRENT"] = COption::GetOptionString("ms.active", "home_services_icons_sort_".SITE_ID, "", SITE_ID);
$themeOptions["HOME_SERVICES"]["CURRENT"] = COption::GetOptionString("ms.active", "home_services_".SITE_ID, "", SITE_ID);
$themeOptions["HOME_SERVICES_SORT"]["CURRENT"] = COption::GetOptionString("ms.active", "home_services_sort_".SITE_ID, "", SITE_ID);
$themeOptions["HOME_MESSAGE_BLOCK"]["CURRENT"] = COption::GetOptionString("ms.active", "home_message_block_".SITE_ID, "", SITE_ID);
$themeOptions["HOME_MESSAGE_BLOCK_SORT"]["CURRENT"] = COption::GetOptionString("ms.active", "home_message_block_sort_".SITE_ID, "", SITE_ID);
$themeOptions["HOME_PRODUCTS"]["CURRENT"] = COption::GetOptionString("ms.active", "home_products_".SITE_ID, "", SITE_ID);
$themeOptions["HOME_PRODUCTS_SORT"]["CURRENT"] = COption::GetOptionString("ms.active", "home_products_sort_".SITE_ID, "", SITE_ID);
$themeOptions["HOME_PROJECTS"]["CURRENT"] = COption::GetOptionString("ms.active", "home_projects_".SITE_ID, "", SITE_ID);
$themeOptions["HOME_PROJECTS_SORT"]["CURRENT"] = COption::GetOptionString("ms.active", "home_projects_sort_".SITE_ID, "", SITE_ID);
$themeOptions["HOME_GALLERY"]["CURRENT"] = COption::GetOptionString("ms.active", "home_gallery_".SITE_ID, "", SITE_ID);
$themeOptions["HOME_GALLERY_SORT"]["CURRENT"] = COption::GetOptionString("ms.active", "home_gallery_sort_".SITE_ID, "", SITE_ID);
$themeOptions["HOME_ABOUT"]["CURRENT"] = COption::GetOptionString("ms.active", "home_about_".SITE_ID, "", SITE_ID);
$themeOptions["HOME_ABOUT_SORT"]["CURRENT"] = COption::GetOptionString("ms.active", "home_about_sort_".SITE_ID, "", SITE_ID);
$themeOptions["HOME_PARTNERS"]["CURRENT"] = COption::GetOptionString("ms.active", "home_partners_".SITE_ID, "", SITE_ID);
$themeOptions["HOME_PARTNERS_SORT"]["CURRENT"] = COption::GetOptionString("ms.active", "home_partners_sort_".SITE_ID, "", SITE_ID);

$themeOptions["HOME_FACTS"]["CURRENT"] = COption::GetOptionString("ms.active", "home_facts_".SITE_ID, "", SITE_ID);
$themeOptions["HOME_FACTS_SORT"]["CURRENT"] = COption::GetOptionString("ms.active", "home_facts_sort_".SITE_ID, "", SITE_ID);
$themeOptions["HOME_NEWS"]["CURRENT"] = COption::GetOptionString("ms.active", "home_news_".SITE_ID, "", SITE_ID);
$themeOptions["HOME_NEWS_SORT"]["CURRENT"] = COption::GetOptionString("ms.active", "home_news_sort_".SITE_ID, "", SITE_ID);
$themeOptions["HOME_REVIEWS"]["CURRENT"] = COption::GetOptionString("ms.active", "home_reviews_".SITE_ID, "", SITE_ID);
$themeOptions["HOME_REVIEWS_SORT"]["CURRENT"] = COption::GetOptionString("ms.active", "home_reviews_sort_".SITE_ID, "", SITE_ID);

$themeOptions["SIDEBAR_MENU_COLOR"]["CURRENT"] = COption::GetOptionString("ms.active", "sidebar_menu_color_".SITE_ID, "", SITE_ID);
$themeOptions["SIDEBAR_MENU_TYPE"]["CURRENT"] = COption::GetOptionString("ms.active", "sidebar_menu_type_".SITE_ID, "", SITE_ID);

$themeOptions["SOC_TWITTER"]["CURRENT"] = COption::GetOptionString("ms.active", "soc_twitter_".SITE_ID, "", SITE_ID);
$themeOptions["SOC_FACEBOOK"]["CURRENT"] = COption::GetOptionString("ms.active", "soc_facebook_".SITE_ID, "", SITE_ID);
$themeOptions["SOC_RSS"]["CURRENT"] = COption::GetOptionString("ms.active", "soc_rss_".SITE_ID, "", SITE_ID);
$themeOptions["SOC_GOOGLE_PLUS"]["CURRENT"] = COption::GetOptionString("ms.active", "soc_google_plus_".SITE_ID, "", SITE_ID);
$themeOptions["SOC_VIMEO"]["CURRENT"] = COption::GetOptionString("ms.active", "soc_vimeo_".SITE_ID, "", SITE_ID);
$themeOptions["SOC_VK"]["CURRENT"] = COption::GetOptionString("ms.active", "soc_vk_".SITE_ID, "", SITE_ID);
$themeOptions["SOC_INSTAGRAM"]["CURRENT"] = COption::GetOptionString("ms.active", "soc_instagram_".SITE_ID, "", SITE_ID);
$themeOptions["SOC_ODNOKLASSNIKI"]["CURRENT"] = COption::GetOptionString("ms.active", "soc_odnoklassniki_".SITE_ID, "", SITE_ID);
$themeOptions["SOC_YOUTUBE"]["CURRENT"] = COption::GetOptionString("ms.active", "soc_youtube_".SITE_ID, "", SITE_ID);
$themeOptions["SOC_LINKEDIN"]["CURRENT"] = COption::GetOptionString("ms.active", "soc_linkedin_".SITE_ID, "", SITE_ID);
$themeOptions["SOC_REDDIT"]["CURRENT"] = COption::GetOptionString("ms.active", "soc_reddit_".SITE_ID, "", SITE_ID);
$themeOptions["SOC_PINTEREST"]["CURRENT"] = COption::GetOptionString("ms.active", "soc_pinterest_".SITE_ID, "", SITE_ID);

if($active == "Y") {
	foreach($themeOptions as $key => $item) {
		if(isset($_REQUEST[$key])) {
			$_SESSION[$key] = $_REQUEST[$key];
			$themeOptions[$key]["CURRENT"] = $_SESSION[$key];
		} elseif(isset($_SESSION[$key])) {
			$themeOptions[$key]["CURRENT"] = $_SESSION[$key];
		}
	}

	$themeChangerStatus = "hide";
	if(!isset($_COOKIE["tc"])) {
		setcookie("tc", $themeChangerStatus, 0, "/");
	}
}

$themeOptionsHomeblocks = $themeOptions["HOME_BLOCKS"] = array(
	"home_slider" => array("active" => $themeOptions["HOME_SLIDER"]["CURRENT"], "sort" => $themeOptions["HOME_SLIDER_SORT"]["CURRENT"]),
	"home_teasers" => array("active" => $themeOptions["HOME_TEASERS"]["CURRENT"], "sort" => $themeOptions["HOME_TEASERS_SORT"]["CURRENT"]),
	"home_features" => array("active" => $themeOptions["HOME_FEATURES"]["CURRENT"], "sort" => $themeOptions["HOME_FEATURES_SORT"]["CURRENT"]),
	"home_services_icons" => array("active" => $themeOptions["HOME_SERVICES_ICONS"]["CURRENT"], "sort" => $themeOptions["HOME_SERVICES_ICONS_SORT"]["CURRENT"]),
	"home_services" => array("active" => $themeOptions["HOME_SERVICES"]["CURRENT"], "sort" => $themeOptions["HOME_SERVICES_SORT"]["CURRENT"]),
	"home_message_block" => array("active" => $themeOptions["HOME_MESSAGE_BLOCK"]["CURRENT"], "sort" => $themeOptions["HOME_MESSAGE_BLOCK_SORT"]["CURRENT"]),
	"home_products" => array("active" => $themeOptions["HOME_PRODUCTS"]["CURRENT"], "sort" => $themeOptions["HOME_PRODUCTS_SORT"]["CURRENT"]),
	"home_projects" => array("active" => $themeOptions["HOME_PROJECTS"]["CURRENT"], "sort" => $themeOptions["HOME_PROJECTS_SORT"]["CURRENT"]),
	"home_gallery" => array("active" => $themeOptions["HOME_GALLERY"]["CURRENT"], "sort" => $themeOptions["HOME_GALLERY_SORT"]["CURRENT"]),
	"home_about" => array("active" => $themeOptions["HOME_ABOUT"]["CURRENT"], "sort" => $themeOptions["HOME_ABOUT_SORT"]["CURRENT"]),
	"home_partners" => array("active" => $themeOptions["HOME_PARTNERS"]["CURRENT"], "sort" => $themeOptions["HOME_PARTNERS_SORT"]["CURRENT"]),
	"home_facts" => array("active" => $themeOptions["HOME_FACTS"]["CURRENT"], "sort" => $themeOptions["HOME_FACTS_SORT"]["CURRENT"]),
	"home_news" => array("active" => $themeOptions["HOME_NEWS"]["CURRENT"], "sort" => $themeOptions["HOME_NEWS_SORT"]["CURRENT"]),
	"home_reviews" => array("active" => $themeOptions["HOME_REVIEWS"]["CURRENT"], "sort" => $themeOptions["HOME_REVIEWS_SORT"]["CURRENT"]),
);

if (!function_exists("sortBlocks")) {
	function sortBlocks(&$themeOptionsHomeblocks) {
		if (!function_exists("cmp")) {
			function cmp($a, $b){
				return ($a["sort"] < $b["sort"]) ? -1 : 1;
			}
		}
		uasort($themeOptionsHomeblocks, "cmp");
	}
}

sortBlocks($themeOptions["HOME_BLOCKS"]);

$arResult = $themeOptions;

if($active == "Y") {
	$this->IncludeComponentTemplate();
}

if($active == "Y") {
	if(isset($_REQUEST["COLOR_THEME"])
	|| isset($_REQUEST["MENU_TYPE"])
	|| isset($_REQUEST["HEADER_TYPE"])
	|| isset($_REQUEST["BOXED_TYPE"])
	|| isset($_REQUEST["BOXED_TEXTURE"])
	|| isset($_REQUEST["BOXED_IMAGE"])
	|| isset($_REQUEST["BOXED_COLOR"])
	|| isset($_REQUEST["PAGE_HEADING_TYPE"])
	|| isset($_REQUEST["PAGE_HEADING_TEXTURE"])
	|| isset($_REQUEST["PAGE_HEADING_IMAGE"])
	|| isset($_REQUEST["PAGE_HEADING_COLOR"])
	|| isset($_REQUEST["PAGE_HEADING_TEXT_COLOR"])
	|| isset($_REQUEST["FIXED"])
	|| isset($_REQUEST["HOME_SLIDER"])
	|| isset($_REQUEST["HOME_TEASERS"])
	|| isset($_REQUEST["HOME_TEASERS"])
	|| isset($_REQUEST["HOME_FEATURES"])
	|| isset($_REQUEST["HOME_SERVICES_ICONS"])
	|| isset($_REQUEST["HOME_SERVICES"])
	|| isset($_REQUEST["HOME_MESSAGE_BLOCK"])
	|| isset($_REQUEST["HOME_PRODUCTS"])
	|| isset($_REQUEST["HOME_PROJECTS"])
	|| isset($_REQUEST["HOME_GALLERY"])
	|| isset($_REQUEST["HOME_GALLERY"])
	|| isset($_REQUEST["HOME_ABOUT"])
	|| isset($_REQUEST["HOME_PARTNERS"])) {
		LocalRedirect();
	}

	if(isset($_REQUEST["RESTORE_SETTINGS"])) {
		unset($_SESSION["COLOR_THEME"]);
		unset($_SESSION["HEADER_TYPE"]);
		unset($_SESSION["MENU_TYPE"]);
		unset($_SESSION["BOXED_TYPE"]);
		unset($_SESSION["BOXED_TEXTURE"]);
		unset($_SESSION["BOXED_IMAGE"]);
		unset($_SESSION["BOXED_COLOR"]);
		unset($_SESSION["PAGE_HEADING_TYPE"]);
		unset($_SESSION["PAGE_HEADING_TEXTURE"]);
		unset($_SESSION["PAGE_HEADING_IMAGE"]);
		unset($_SESSION["PAGE_HEADING_COLOR"]);
		unset($_SESSION["PAGE_HEADING_TEXT_COLOR"]);
		unset($_SESSION["FIXED"]);
		unset($_SESSION["HOME_SLIDER"]);
		unset($_SESSION["HOME_TEASERS"]);
		unset($_SESSION["HOME_FEATURES"]);
		unset($_SESSION["HOME_SERVICES_ICONS"]);
		unset($_SESSION["HOME_SERVICES"]);
		unset($_SESSION["HOME_MESSAGE_BLOCK"]);
		unset($_SESSION["HOME_PRODUCTS"]);
		unset($_SESSION["HOME_PROJECTS"]);
		unset($_SESSION["HOME_GALLERY"]);
		unset($_SESSION["HOME_ABOUT"]);
		unset($_SESSION["HOME_PARTNERS"]);
		LocalRedirect();
	}
}

return $arResult;
